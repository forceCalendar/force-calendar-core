<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Lightning Calendar - 30 Minute Event Test</title>
  <link rel="stylesheet" href="demo/style.css">
</head>
<body>
  <div class="container">
    <header class="main-header">
      <h1>30-Minute Event Test</h1>
      <p>Testing precise event duration rendering</p>
    </header>

    <div id="calendar-container" class="calendar-container"></div>
  </div>

  <script type="module">
    import { Calendar, Event } from './demo/src/index.js';
    import { VanillaDOMRenderer } from './demo/src/renderers/VanillaDOMRenderer.js';

    // Initialize calendar in week view
    const container = document.getElementById('calendar-container');
    const calendar = new Calendar({
      view: 'week',
      date: new Date()
    });

    // Initialize renderer
    const renderer = new VanillaDOMRenderer(container, calendar);

    // Add test events with various durations
    const today = new Date();
    today.setHours(0, 0, 0, 0);

    // 30-minute event (9:00 - 9:30)
    calendar.addEvent(new Event({
      id: 'event-30min',
      title: '30 min event',
      start: new Date(today.getTime() + 9 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 9.5 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-blue' }
    }));

    // 1-hour event (10:00 - 11:00)
    calendar.addEvent(new Event({
      id: 'event-1hr',
      title: '1 hour event',
      start: new Date(today.getTime() + 10 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 11 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-green' }
    }));

    // 1.5-hour event (11:30 - 13:00)
    calendar.addEvent(new Event({
      id: 'event-90min',
      title: '90 min event',
      start: new Date(today.getTime() + 11.5 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 13 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-orange' }
    }));

    // 15-minute event (14:00 - 14:15)
    calendar.addEvent(new Event({
      id: 'event-15min',
      title: '15 min event',
      start: new Date(today.getTime() + 14 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 14.25 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-red' }
    }));

    // 45-minute event (15:15 - 16:00)
    calendar.addEvent(new Event({
      id: 'event-45min',
      title: '45 min event',
      start: new Date(today.getTime() + 15.25 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 16 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-purple' }
    }));

    // 2.5-hour event (16:30 - 19:00)
    calendar.addEvent(new Event({
      id: 'event-2.5hr',
      title: '2.5 hour event',
      start: new Date(today.getTime() + 16.5 * 60 * 60 * 1000),
      end: new Date(today.getTime() + 19 * 60 * 60 * 1000),
      metadata: { colorClass: 'event-blue' }
    }));

    console.log('Test events added with various durations:');
    console.log('- 30 minutes: 9:00-9:30');
    console.log('- 60 minutes: 10:00-11:00');
    console.log('- 90 minutes: 11:30-13:00');
    console.log('- 15 minutes: 14:00-14:15');
    console.log('- 45 minutes: 15:15-16:00');
    console.log('- 150 minutes: 16:30-19:00');
  </script>
</body>
</html>