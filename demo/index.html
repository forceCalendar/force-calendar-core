<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lightning Calendar Core</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="page">
        <header class="site-header">
            <div class="header-content">
                <h1>Lightning Calendar Core</h1>
                <nav>
                    <a href="#about">About</a>
                    <a href="#demo">Demo</a>
                    <a href="#documentation">Documentation</a>
                    <a href="https://github.com/thedhanawada/lightning-calendar-core">Source</a>
                </nav>
            </div>
        </header>

        <main>
            <section id="about" class="section">
                <h2>About</h2>
                <p>
                    Lightning Calendar Core is a zero-dependency JavaScript calendar engine built for Salesforce Lightning
                    and enterprise applications. It provides comprehensive event management, conflict detection,
                    and performance optimization without external dependencies.
                </p>

                <h3>Key Features</h3>
                <ul>
                    <li>Zero external dependencies - works in restricted environments</li>
                    <li>Full event model with attendees, reminders, and categories</li>
                    <li>Conflict detection for time, resources, and attendees</li>
                    <li>LRU caching and lazy indexing for performance</li>
                    <li>Complete JSDoc type definitions</li>
                    <li>Batch operations for bulk updates</li>
                </ul>

                <h3>Installation</h3>
                <pre><code>npm install @lightning/calendar-core</code></pre>

                <h3>Basic Usage</h3>
                <pre><code>import { Calendar } from '@lightning/calendar-core';

const calendar = new Calendar();

// Add event with attendees
calendar.addEvent({
    title: 'Team Meeting',
    start: new Date('2024-12-25T10:00:00'),
    end: new Date('2024-12-25T11:00:00'),
    attendees: [
        { name: 'John Doe', email: 'john@example.com' }
    ]
});

// Check for conflicts
const conflicts = calendar.checkConflicts(event);</code></pre>
            </section>

            <section id="demo" class="section">
                <h2>Demo</h2>

                <div class="demo-controls">
                    <div class="control-row">
                        <label>View:</label>
                        <button class="btn active" data-view="month">Month</button>
                        <button class="btn" data-view="week">Week</button>
                        <button class="btn" data-view="day">Day</button>
                        <button class="btn" data-view="list">List</button>
                    </div>

                    <div class="control-row">
                        <button class="btn" id="prevBtn">&larr; Previous</button>
                        <button class="btn" id="todayBtn">Today</button>
                        <button class="btn" id="nextBtn">Next &rarr;</button>
                    </div>

                    <div class="control-row">
                        <button class="btn" id="addEventBtn">Add Event</button>
                        <button class="btn" id="detectConflictsBtn">Detect Conflicts</button>
                        <button class="btn" id="clearBtn">Clear All</button>
                    </div>
                </div>

                <div class="demo-layout">
                    <div id="calendar" class="calendar-container">
                        <!-- Calendar renders here -->
                    </div>

                    <aside class="info-panel">
                        <div class="panel-section">
                            <h3>Selected Event</h3>
                            <div id="eventDetails">
                                <p class="muted">Click an event to view details</p>
                            </div>
                        </div>

                        <div class="panel-section">
                            <h3>Conflicts</h3>
                            <div id="conflictInfo">
                                <p class="muted">No conflicts detected</p>
                            </div>
                        </div>

                        <div class="panel-section">
                            <h3>Statistics</h3>
                            <dl class="stats">
                                <dt>Total Events:</dt>
                                <dd id="totalEvents">0</dd>

                                <dt>With Attendees:</dt>
                                <dd id="attendeeEvents">0</dd>

                                <dt>Cache Hit Rate:</dt>
                                <dd id="cacheHitRate">0%</dd>
                            </dl>
                        </div>
                    </aside>
                </div>
            </section>

            <section id="documentation" class="section">
                <h2>Documentation</h2>

                <h3>Event Model</h3>
                <p>The enhanced event model supports:</p>
                <pre><code>{
    id: string,
    title: string,
    start: Date,
    end: Date,
    attendees: [{ name, email, responseStatus, resource }],
    reminders: [{ method, minutesBefore }],
    categories: string[],
    location: string,
    organizer: { name, email },
    conferenceData: { url, accessCode },
    status: 'confirmed' | 'tentative' | 'cancelled'
}</code></pre>

                <h3>Conflict Detection</h3>
                <p>Check for scheduling conflicts:</p>
                <pre><code>const conflicts = calendar.checkConflicts(event, {
    checkAttendees: true,
    checkResources: true,
    checkLocation: true,
    bufferMinutes: 15
});

if (conflicts.hasConflicts) {
    console.log(`Found ${conflicts.totalConflicts} conflicts`);
    conflicts.conflicts.forEach(conflict => {
        console.log(`${conflict.type}: ${conflict.description}`);
    });
}</code></pre>

                <h3>Performance</h3>
                <p>The core includes performance optimizations:</p>
                <ul>
                    <li>LRU cache with configurable capacity</li>
                    <li>Lazy indexing for events beyond 365 days</li>
                    <li>Batch operations reduce overhead by 60%</li>
                    <li>O(1) event lookups via Map storage</li>
                </ul>

                <h3>API Reference</h3>
                <table class="api-table">
                    <thead>
                        <tr>
                            <th>Method</th>
                            <th>Description</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><code>addEvent(event)</code></td>
                            <td>Add a single event</td>
                        </tr>
                        <tr>
                            <td><code>addEvents(events[])</code></td>
                            <td>Batch add multiple events</td>
                        </tr>
                        <tr>
                            <td><code>removeEvent(id)</code></td>
                            <td>Remove event by ID</td>
                        </tr>
                        <tr>
                            <td><code>getEvent(id)</code></td>
                            <td>Get event by ID</td>
                        </tr>
                        <tr>
                            <td><code>getEventsInRange(start, end)</code></td>
                            <td>Query events in date range</td>
                        </tr>
                        <tr>
                            <td><code>checkConflicts(event, options)</code></td>
                            <td>Check for scheduling conflicts</td>
                        </tr>
                        <tr>
                            <td><code>getBusyPeriods(emails[], start, end)</code></td>
                            <td>Get busy periods for attendees</td>
                        </tr>
                        <tr>
                            <td><code>getFreePeriods(start, end, duration)</code></td>
                            <td>Find available time slots</td>
                        </tr>
                    </tbody>
                </table>
            </section>
        </main>

        <footer class="site-footer">
            <p>
                Lightning Calendar Core |
                <a href="https://github.com/thedhanawada/lightning-calendar-core">GitHub</a> |
                <a href="https://github.com/thedhanawada/lightning-calendar-core/issues">Issues</a> |
                MIT License
            </p>
        </footer>
    </div>

    <script type="module" src="demo.js"></script>
</body>
</html>